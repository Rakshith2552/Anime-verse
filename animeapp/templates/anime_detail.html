{% extends 'base.html' %}

{% block title %}{{ anime.title }} | AnimeVerse{% endblock %}

{% block content %}
<div class="flex justify-center items-center min-h-screen text-white relative overflow-hidden">
  
  <!-- Background overlay -->
  <div class="absolute inset-0 bg-black bg-opacity-70 backdrop-blur-xl"></div>

  <!-- Neon anime card -->
  <div class="relative z-10 max-w-5xl w-full bg-black bg-opacity-60 rounded-2xl shadow-2xl border border-red-500/40 p-8 md:p-10 transform hover:scale-[1.01] transition duration-500">
    <div class="flex flex-col md:flex-row gap-10 items-center">
      
      <!-- Anime Poster -->
      <img src="{{ anime.images.jpg.image_url }}" 
           alt="{{ anime.title }}" 
           class="rounded-2xl w-64 h-96 object-cover shadow-lg shadow-red-500/40 border border-red-400 hover:shadow-red-600 transition-all duration-300">

      <!-- Anime Info -->
      <div class="flex-1">
        <h1 class="text-4xl font-bold mb-4 text-red-400 drop-shadow-[0_0_8px_#ff4444]">
          {{ anime.title }}
        </h1>

        <p class="text-gray-300 mb-3 text-lg">
          <span class="font-semibold text-red-300">Episodes:</span> {{ anime.episodes|default:"N/A" }} |
          <span class="font-semibold text-yellow-300">‚≠ê Score:</span> {{ anime.score|default:"N/A" }}
        </p>

        <p class="text-gray-200 leading-relaxed mb-6">
          {{ anime.synopsis|default:"No synopsis available." }}
        </p>

        <div class="grid grid-cols-2 sm:grid-cols-3 gap-y-3 text-sm text-gray-300">
          <p><strong class="text-red-300">Type:</strong> {{ anime.type }}</p>
          <p><strong class="text-red-300">Year:</strong> {{ anime.year|default:"N/A" }}</p>
          <p><strong class="text-red-300">Status:</strong> {{ anime.status }}</p>
          <p><strong class="text-red-300">Duration:</strong> {{ anime.duration|default:"N/A" }}</p>
          <p><strong class="text-red-300">Rating:</strong> {{ anime.rating|default:"N/A" }}</p>
        </div>

        <div class="flex justify-center mt-6">
          <form method="post" action="{% url 'add_to_watchlist' anime.mal_id %}">
            {% csrf_token %}
          <button type="submit"
            class="bg-green-600 px-6 py-2 rounded-full hover:bg-green-600 transition font-semibold shadow-lg">
            ‚ûï Add to Watchlist
            </button>
          </form>
        </div>
        

        {% if anime.trailer and anime.trailer.url %}
          <a href="{{ anime.trailer.url }}" target="_blank"
             class="mt-8 inline-block bg-gradient-to-r from-red-500 via-pink-500 to-purple-600 px-6 py-3 rounded-full font-semibold shadow-lg shadow-pink-500/40 hover:shadow-pink-600 transition-transform hover:scale-105">
            üé¨ Watch Trailer
          </a>

        {% endif %}
      </div>
    </div>
  </div>
</div>

<!-- Animation on load -->
<script>
  document.addEventListener("DOMContentLoaded", () => {
    document.body.classList.add("loaded");
  });
</script>
{% endblock %}
